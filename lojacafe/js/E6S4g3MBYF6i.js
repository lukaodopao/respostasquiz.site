(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4397],{54397:function(e,r,t){"use strict";t.r(r),t.d(r,{NewsletterSubmitForm:function(){return E},default:function(){return C}});var s=t(50029),n=t(82580),a=t(67294),o=t(32780),c=t(18040),i=t(59499),l=t(4730),u=t(73677),_=t.n(u),m=t(85893),p=["id","name","label"];function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}var h=e=>{var{id:r,name:t,label:s}=e,a=(0,l.Z)(e,p),[,o]=(0,n.U$)(t);return(0,m.jsxs)("div",{className:"".concat(_().container," ").concat(a.className),children:[(0,m.jsxs)("div",{className:_().checkbox_wrapper,children:[(0,m.jsx)(n.gN,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({className:"".concat(_().checkbox," ").concat(o.error&&o.touched&&_().error),name:t,id:r},a)),s&&(0,m.jsx)("label",{className:_().label,htmlFor:t,children:s})]}),(0,m.jsx)("span",{className:"".concat(_().error_message," ").concat(o.error&&o.touched&&_().error),children:o.error&&o.touched?o.error:"..."})]})},b=t(15517),x=t(44786),y=t.n(x),j=["name","variant","id"];function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}var g=e=>{var{name:r,variant:t="primary",id:s}=e,a=(0,l.Z)(e,j),[,o]=(0,n.U$)(r);return(0,m.jsxs)("div",{className:"".concat(y().container,"  ").concat(y()["container_".concat(t)]," ").concat(o.error&&o.touched&&y().error," ").concat(a.className),children:[(0,m.jsxs)("div",{className:"".concat(y().input_wrapper," ").concat(o.error&&o.touched&&y().error),children:[(0,m.jsx)(n.gN,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({className:y().input,name:r,id:s},a)),o.error&&o.touched&&(0,m.jsx)(b.Z,{name:"CircleX"})]}),o.error&&o.touched&&(0,m.jsx)("span",{className:y().error_message,children:o.error})]})},O=t(16310),v=O.Ry().shape({name:O.Z_().required("Nome \xe9 obrigat\xf3rio"),email:O.Z_().email("Email inv\xe1lido").required("Email \xe9 obrigat\xf3rio"),termsAndConditions:O.O7().default(!1).oneOf([!0],"Voc\xea deve aceitar os termos e condi\xe7\xf5es")}),w=e=>{var{terms:r,showFullTerms:t}=e,s=r.text.slice(0,200),n=r.text.slice(200);return(0,m.jsx)(m.Fragment,{children:n.length>0?(0,m.jsxs)(m.Fragment,{children:[s,t?(0,m.jsxs)(m.Fragment,{children:[n," ",(0,m.jsx)("a",{href:r.link,children:"Pol\xedtica de privacidade."})]}):(0,m.jsx)(m.Fragment,{children:"..."})]}):(0,m.jsxs)(m.Fragment,{children:[s," ",(0,m.jsx)("a",{href:r.link,children:"Pol\xedtica de privacidade."})]})})},N=t(64250),k=t.n(N),P=t(22920),S=t(79967),E=e=>{var{newsletterTitle:r,terms:t,onSubmit:i}=e,{subscribeUser:l}=(0,o.u)(),{0:u,1:_}=(0,a.useState)(!1);function p(){return(p=(0,s.Z)(function*(e){yield l({data:{email:e.email,name:e.name}});try{var r=yield(yield fetch("/api/create-newsletter",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,value:!0})})).json();if(r.success||"Usu\xe1rio j\xe1 possui registro na tabela CA"!==r.error){if(r.success)i();else throw Error("Error na solicita\xe7\xe3o ".concat(r.status))}else P.Am.error("Voc\xea j\xe1 possui um cadastrado em nossa base.")}catch(t){P.Am.error("Ocorreu um erro ao salvar na newsletter")}})).apply(this,arguments)}return(0,m.jsxs)("div",{className:k().wrapper,children:[(0,m.jsx)("h2",{className:k().title,children:r}),(0,m.jsx)(n.J9,{initialValues:{name:"",email:"",termsAndConditions:!1},onSubmit:e=>(function(e){return p.apply(this,arguments)})(e),validationSchema:v,children(e){var{handleSubmit:r,isSubmitting:s}=e;return(0,m.jsxs)("form",{className:k().form,onSubmit:e=>r(e),children:[(0,m.jsx)(g,{name:"name",id:"newsletterInlineName",placeholder:"Digite seu nome"}),(0,m.jsx)(g,{name:"email",id:"newsletterInlineEmail",placeholder:"Digite seu email"}),(0,m.jsx)(h,{className:"".concat(k().checkbox," ").concat(k().checkbox_absolute),name:"termsAndConditions",type:"checkbox",id:"termsAndConditions",label:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{terms:t,showFullTerms:u}),(0,m.jsx)("br",{}),t.text.length>200&&(0,m.jsx)("button",{className:k().read_more,onClick:()=>_(!u),children:u?"Ler menos":"Ler mais"})]})}),s?(0,m.jsx)("div",{style:{alignSelf:"center"},children:(0,m.jsx)(S.$,{})}):(0,m.jsx)(c.z,{className:k().submit_button,type:"submit",children:"Quero Receber"})]})}})]})},C=E},32780:function(e,r,t){"use strict";t.d(r,{u:function(){return i}});var s=t(50029),n=t(59734),a=t(180),o=t(77732),c=(e,r,t)=>{var c,i=(0,n.ZP)((0,o.km)(e,r),()=>null,o.WN);return[(c=(0,s.Z)(function*(r){var s=yield(0,a.W)(e,r,t);i.mutate(s,!1)}),function(e){return c.apply(this,arguments)}),i]},i=()=>{var[e,{data:r,error:t,isValidating:s}]=c("SubscribeToNewsletter",{data:{name:"",email:""}});return{subscribeUser:e,data:r,error:t,loading:s}}},64250:function(e){e.exports={wrapper:"styles_wrapper__ydvTT",title:"styles_title__vm5I7",form:"styles_form__juN19",checkbox:"styles_checkbox__ueIQJ",read_more:"styles_read_more__6suPx",readMore:"styles_read_more__6suPx",submit_button:"styles_submit_button__y2Xw8",submitButton:"styles_submit_button__y2Xw8",checkbox_absolute:"styles_checkbox_absolute__LLxdQ",checkboxAbsolute:"styles_checkbox_absolute__LLxdQ"}},73677:function(e){e.exports={container:"styles_container__kSduq",checkbox_wrapper:"styles_checkbox_wrapper__ot_Ua",checkboxWrapper:"styles_checkbox_wrapper__ot_Ua",error:"styles_error__ruYyG",label:"styles_label__Ez3hS",error_message:"styles_error_message__uMH0S",errorMessage:"styles_error_message__uMH0S"}},44786:function(e){e.exports={container:"styles_container__K9liK",container_shipping:"styles_container_shipping__UxSaK",containerShipping:"styles_container_shipping__UxSaK",error:"styles_error__hCNoZ",input_wrapper:"styles_input_wrapper__ECzqw",inputWrapper:"styles_input_wrapper__ECzqw",input:"styles_input__PzEcZ",error_message:"styles_error_message__RMmDP",errorMessage:"styles_error_message__RMmDP"}}}]);